<!DOCTYPE html>
<html>
<head>
  <style>
    input[type=radio],input[type="checkbox"] {
      display: none;
    }

    .container {
      display: flex;
      flex-direction: row;
      flex-grow: 1;
      justify-content: center;
    }

    .checker {
      margin: .25rem;
    }

    .checker-radio label {
      font-size: 0;
      height: 14px;
      width: 14px;
      border: 2px solid #000;
      border-radius: 7px;
      display: inline-block;
    }
    .checker-checkbox label {
      font-size: 0;
      height: 14px;
      width: 14px;
      border: 2px solid #000;
      border-radius: 2px;
      display: inline-block;
    }

    input[type=radio]:checked ~ label,
    input[type=checkbox]:checked ~ label {
      background-color: #F00;
    }
  </style>
  <script>
    var Checker = Checker || {};

    Checker.set = function(el) {

      if(typeof el === undefined  || typeof el === 'undefined' || el.length < 1) {
        console.error('Checker error: ' + el + ' is not a valid');
        return ;
      }

      var els = document.querySelectorAll('[data-checker]');

      els.forEach(function(el, index) {
        var opts = JSON.parse(el.dataset.checker);
        var checkbox = document.createElement("input");
        var labelEl = document.createElement("label");
        var label = opts.label || opts.name || 'checker'+index;
        var checkboxContainer = document.createElement("div");

        checkboxContainer.classList.add("checker");

        opts.type === "radio" ?  checkboxContainer.classList.add("checker-radio") :  checkboxContainer.classList.add("checker-checkbox");

        checkbox.setAttribute("type", opts.type);
        checkbox.setAttribute("name", opts.name);
        checkbox.setAttribute("id", "checker-"+index);
        labelEl.innerHTML = label;
        labelEl.setAttribute("for", "checker-"+index);
        el.parentNode.replaceChild(checkboxContainer, el);
        checkboxContainer.append(labelEl);
        checkboxContainer.insertBefore(checkbox, labelEl);
        console.log(opts);
      });

    }

    window.onload = function() {
      Checker.set('data-checker');
    }

  </script>
</head>
<body>
  <div class="container">
    <span data-checker='{ "type": "radio", "name": "test"}'></span>
    <span data-checker='{ "type": "checkbox", "label":"checkbox", "name": "test-again"}'></span>
  </div>
</body>
</html>
